<% flash[:notice]&.tap do |notice| %>
    <div class="alert alert-success"><%= notice %></div>
<% end %>

<div class="top-float">
  <%= link_to t('forms.new_paste'), new_paste_path, class: 'btn btn-outline-success col-12' %>
</div>

<h1><%= t 'forms.pastes' %></h1>

<table class="table table-hover">
  <thead>
    <tr>
      <th><%= t('activerecord.attributes.paste.name') %></th>
      <th><%= t('activerecord.attributes.paste.language') %></th>
      <th><%= t('activerecord.attributes.paste.private') %></th>
      <th><%= t('activerecord.attributes.paste.owner') %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @pastes.each do |paste| %>
      <tr>
        <td><%= paste.name.empty? ? t('activerecord.attributes.paste.untitled') : paste.name %></td>
        <td><%= LANGUAGES.find { |pair| pair.last == paste.language }.first %></td>
        <td><%= t "activerecord.attributes.paste.#{paste.private ? 'private!' : 'public!'}" %></td>
        <td><%= paste.users_id ? User.find(paste.users_id).username : t('anonymous') %></td>
        <td><%= link_to t('forms.show'), paste, class: 'btn btn-outline-primary btn-sm' %></td>
        <td><%= link_to t('forms.edit'), edit_paste_path(paste), class: 'btn btn-outline-primary btn-sm' %></td>
        <td><%= link_to t('forms.delete'), paste, method: :delete, data: { confirm: t('forms.messages.are_you_sure?') }, class: 'btn btn-outline-danger btn-sm' %></td>
      </tr>
    <% end %>
  </tbody>
</table>